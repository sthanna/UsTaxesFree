# ==========================================
# Staging Environment Configuration
# ==========================================

# Server Configuration
NODE_ENV=staging
PORT=3000
LOG_LEVEL=info

# Database Configuration
# Use AWS Secrets Manager or Kubernetes Secrets in production
DATABASE_URL=postgresql://tax_user:REPLACE_WITH_STAGING_PASSWORD@staging-db.internal:5432/tax_filing_db
DB_POOL_MIN=5
DB_POOL_MAX=20

# Security & Authentication
# CRITICAL: Replace with actual secrets from vault/secrets manager
JWT_SECRET=REPLACE_WITH_VAULT_SECRET
JWT_EXPIRY=12h
BCRYPT_ROUNDS=12

# CORS Configuration
CORS_ORIGIN=https://staging.taxfiling.example.com

# Redis
REDIS_URL=redis://staging-redis.internal:6379

# Observability & Monitoring
OTEL_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=https://otel-collector.internal:4318
OTEL_SERVICE_NAME=tax-filing-api-staging

# Datadog
DD_AGENT_HOST=datadog-agent.internal
DD_TRACE_AGENT_PORT=8126

# AWS Configuration
AWS_REGION=us-east-1
AWS_S3_BUCKET=tax-filing-documents-staging
AWS_SECRETS_MANAGER_ENABLED=true

# E-filing Configuration
IRS_EFILE_ENDPOINT=https://testwebservices.irs.gov/
IRS_EFILE_TCC=REPLACE_WITH_ACTUAL_TCC
IRS_EFILE_EFIN=REPLACE_WITH_ACTUAL_EFIN

# Feature Flags
ENABLE_PDF_GENERATION=true
ENABLE_EFILE_SUBMISSION=true
ENABLE_STATE_TAX=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
